package multiagent;

import java.util.ArrayList;
import java.util.List;

import QLearning.MAction;
import QLearning.MainClass;
import burlap.mdp.core.action.ActionType;
import burlap.mdp.core.action.UniversalActionType;
import burlap.mdp.stochasticgames.agent.SGAgentType;

public class SAgentType extends SGAgentType {

	private String typeName;
	private List<ActionType> actionsAvailableToType;

	public SAgentType(String typeName, ArrayList<ActionType> arrayList) {
		super(typeName, arrayList);
		this.typeName = typeName;
		this.actionsAvailableToType = arrayList;
	}

	public void updateActionList(int index) {
		for (int i = 0; i < MainClass.nlist.get(index).getAdj().size(); i++) {
			MAction s = new MAction(MainClass.nlist.get(index).getAdj().get(i)
					.getName(), MainClass.ACTION_SCAN);
			MAction p = new MAction(MainClass.nlist.get(index).getAdj().get(i)
					.getName(), MainClass.ACTION_HACK);
			this.actionsAvailableToType.add(new UniversalActionType(s));
			this.actionsAvailableToType.add(new UniversalActionType(p));
		}
	}
	

	public static ArrayList<ActionType> getDefenderActionList() {
		ArrayList<ActionType> output = new ArrayList<ActionType>();
		for (int i = 0; i < MainClass.nlist.size(); i++) {
			MAction ms = new MAction(MainClass.nlist.get(i).getName(),
					MainClass.ACTION_SCAN);
			MAction mp = new MAction(MainClass.nlist.get(i).getName(),
					MainClass.ACTION_PATCH);
			output.add(new UniversalActionType(ms));
			output.add(new UniversalActionType(mp));
		}
		return output;
	}

	public void addAction(MAction a) {
		this.actionsAvailableToType.add(new UniversalActionType(a));
	}

	public String getTypeName() {
		return typeName;
	}

	public void setTypeName(String typeName) {
		this.typeName = typeName;
	}

	public List<ActionType> getActionsAvailableToType() {
		return actionsAvailableToType;
	}

	public void setActionsAvailableToType(
			List<ActionType> actionsAvailableToType) {
		this.actionsAvailableToType = actionsAvailableToType;
	}

}
